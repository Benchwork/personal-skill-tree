<!doctype html>
<HTML>
  <HEAD>
    <TITLE>Personal Skill Tree</TITLE>
    <SCRIPT src="https://d3js.org/d3.v3.min.js"></SCRIPT>
  </HEAD>

  <BODY>
    <SCRIPT>
      var canvas = d3.select("body").append("svg")
        .attr("width", 800)
        .attr("height", 600)
        .append("g")
        .attr("transform", "translate(50,50)");

      var tree = d3.layout.tree()
        .size([400,400]);

      d3.json("https://gist.githubusercontent.com/nshadov/0e087575e131691d481d1b3b0cd6a2d6/raw/ac47e5faff5ae7c861536f331abca7fbd394846f/skill-tree.json", function(data){

        //alert(JSON.stringify(data));

        var nodes = tree.nodes(data);
        var links = tree.links(nodes);

        var diagonal = d3.svg.diagonal()
          .projection(function(d){
            return [d.y, d.x];
          });

        var node = canvas.selectAll(".node")
          .data(nodes)
          .enter()
          .append("g")
            .attr("class", "node")
            .attr("transform", function (d) {
              return "translate(" +d.y+ "," +d.x+ ")";
            });

        canvas.selectAll(".link")
          .data(links)
          .enter()
          .append("path")
            .attr("class", "link")
            .attr("stroke", "gray")
            .attr("fill", "none")
            .attr("d", diagonal);

        node.append("circle")
          .attr("r", 10)
          .attr("fill", "blue");

        node.append("text")
          .text(function(d) {
            return d.name;
          });

      });
    </SCRIPT>
  </BODY>
</HTML>
